// Generated by CoffeeScript 1.9.0
(function() {
  var getCinemas, getMovie, getMovies, renderCinemas, renderMovie, renderMovies;

  $(function() {
    console.log('Wat');
    console.log('requesting movies');
    return getMovies();
  });

  getMovies = function() {
    return $.ajax({
      url: '/movies.json',
      dataType: 'json',
      error: function(jqXHR, textStatus, errorThrown) {
        return console.log("Error " + textStatus + ", " + errorThrown);
      },
      success: renderMovies
    });
  };

  getMovie = function(id) {
    return $.ajax({
      url: "/movie.json/" + id,
      dataType: 'json',
      error: function(jqXHR, textStatus, errorThrown) {
        return console.log("Error " + textStatus + ", " + errorThrown);
      },
      success: renderMovie
    });
  };

  renderMovie = function(movie) {
    return console.log("Whoooooh!");
  };

  getCinemas = function() {
    return $.ajax({
      url: '/cinemas.json',
      dataType: 'json',
      error: function(jqXHR, textStatus, errorThrown) {
        return console.log("Error " + textStatus + ", " + errorThrown);
      },
      success: renderCinemas
    });
  };

  renderMovies = function(movies) {
    var movie, movieList, _i, _len;
    movieList = "<ul>";
    for (_i = 0, _len = movies.length; _i < _len; _i++) {
      movie = movies[_i];
      movieList += "<li>";
      movieList += "<a href='/movie.json/" + movie.id + "'>" + movie.name + "</a>";
      movieList += "</li>";
    }
    movieList += "</ul>";
    return $('#movies').append(movieList);
  };

  renderCinemas = function(cinemas) {
    console.log("Found cinemas");
    return console.log(cinemas);
  };

}).call(this);
